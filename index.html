<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>å®å¯æ¢¦å¿ƒé‡‘é­‚é“¶å›¾é‰´æ ‡è®°</title>
    
    <!-- ç§»åŠ¨ç«¯åˆ˜æµ·å±/çŠ¶æ€æ é¢œè‰²é€‚é… -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="theme-color" content="#ffffff">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700;900&display=swap');
        
        body { 
            font-family: 'Noto Sans SC', sans-serif; 
            -webkit-text-size-adjust: 100%;
            /* é€‚é…åˆ˜æµ·å±çš„å®‰å…¨åŒºåŸŸå†…è¾¹è· */
            padding-top: env(safe-area-inset-top);
        }
        
        .pokemon-card { 
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .pokemon-thumb {
            transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1), filter 0.3s ease;
        }
        
        .grayscale-img { 
            filter: grayscale(100%) brightness(1.1) contrast(0.8); 
            opacity: 0.15; 
        }

        ::-webkit-scrollbar { width: 0px; background: transparent; }

        input { font-size: 16px !important; }

        .tab-container {
            padding: 4px;
            display: flex;
            gap: 4px;
        }

        /* ä¿®å¤é¡µé¢å†…å®¹ä¸ä¼šè¢«åˆ˜æµ·é®æŒ¡ */
        header {
            padding-top: calc(0.75rem + env(safe-area-inset-top));
        }
    </style>
</head>
<body class="bg-slate-100">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        const Icon = ({ name, className = "w-5 h-5" }) => {
            const icons = {
                pocket: <path d="M4 3h16a2 2 0 0 1 2 2v6a10 10 0 0 1-10 10A10 10 0 0 1 2 11V5a2 2 0 0 1 2-2z" />,
                search: <React.Fragment><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></React.Fragment>,
                check: <path d="M20 6 9 17l-5-5"/>,
                ghost: <React.Fragment><path d="M9 10h.01"/><path d="M15 10h.01"/><path d="M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z"/></React.Fragment>,
                refresh: <React.Fragment><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M3 21v-5h5"/></React.Fragment>
            };
            return (
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    {icons[name]}
                </svg>
            );
        };

        const MASTER_POKEMON = [
            { nat: 1, n: "å¦™è›™ç§å­", j: 231 }, { nat: 2, n: "å¦™è›™è‰", j: 232 }, { nat: 3, n: "å¦™è›™èŠ±", j: 233 },
            { nat: 4, n: "å°ç«é¾™", j: 234 }, { nat: 5, n: "ç«æé¾™", j: 235 }, { nat: 6, n: "å–·ç«é¾™", j: 236 },
            { nat: 7, n: "æ°å°¼é¾Ÿ", j: 237 }, { nat: 8, n: "å¡å’ªé¾Ÿ", j: 238 }, { nat: 9, n: "æ°´ç®­é¾Ÿ", j: 239 },
            { nat: 10, n: "ç»¿æ¯›è™«", j: 24 }, { nat: 11, n: "é“ç”²è›¹", j: 25 }, { nat: 12, n: "å·´å¤§è¶", j: 26 },
            { nat: 13, n: "ç‹¬è§’è™«", j: 27 }, { nat: 14, n: "é“å£³è›¹", j: 28 }, { nat: 15, n: "å¤§é’ˆèœ‚", j: 29 },
            { nat: 16, n: "æ³¢æ³¢", j: 10 }, { nat: 17, n: "æ¯”æ¯”é¸Ÿ", j: 11 }, { nat: 18, n: "å¤§æ¯”é¸Ÿ", j: 12 },
            { nat: 19, n: "å°æ‹‰è¾¾", j: 13 }, { nat: 20, n: "æ‹‰è¾¾", j: 14 }, { nat: 21, n: "çƒˆé›€", j: 15 },
            { nat: 22, n: "å¤§å˜´é›€", j: 16 }, { nat: 23, n: "é˜¿æŸè›‡", j: 17 }, { nat: 24, n: "é˜¿æŸæ€ª", j: 18 },
            { nat: 25, n: "çš®å¡ä¸˜", j: 22 }, { nat: 26, n: "é›·ä¸˜", j: 23 }, { nat: 27, n: "ç©¿å±±é¼ ", j: 19 },
            { nat: 28, n: "ç©¿å±±ç‹", j: 20 }, { nat: 29, n: "å°¼å¤šå…°", j: 31 }, { nat: 30, n: "å°¼å¤šå¨œ", j: 32 },
            { nat: 31, n: "å°¼å¤šå", j: 33 }, { nat: 32, n: "å°¼å¤šæœ—", j: 34 }, { nat: 33, n: "å°¼å¤šåŠ›è¯º", j: 35 },
            { nat: 34, n: "å°¼å¤šç‹", j: 36 }, { nat: 35, n: "çš®çš®", j: 41 }, { nat: 36, n: "çš®å¯è¥¿", j: 42 },
            { nat: 37, n: "å…­å°¾", j: 127 }, { nat: 38, n: "ä¹å°¾", j: 128 }, { nat: 39, n: "èƒ–ä¸", j: 44 },
            { nat: 40, n: "èƒ–å¯ä¸", j: 45 }, { nat: 41, n: "è¶…éŸ³è ", j: 37 }, { nat: 42, n: "å¤§å˜´è ", j: 38 },
            { nat: 43, n: "èµ°è·¯è‰", j: 68 }, { nat: 44, n: "è‡­è‡­èŠ±", j: 69 }, { nat: 45, n: "éœ¸ç‹èŠ±", j: 70 },
            { nat: 46, n: "æ´¾æ‹‰æ–¯", j: 72 }, { nat: 47, n: "æ´¾æ‹‰æ–¯ç‰¹", j: 73 }, { nat: 48, n: "æ¯›çƒ", j: 109 },
            { nat: 49, n: "æ‘©é²è›¾", j: 110 }, { nat: 50, n: "åœ°é¼ ", j: 150 }, { nat: 51, n: "ä¸‰åœ°é¼ ", j: 151 },
            { nat: 52, n: "å–µå–µ", j: 138 }, { nat: 53, n: "çŒ«è€å¤§", j: 139 }, { nat: 54, n: "å¯è¾¾é¸­", j: 140 },
            { nat: 55, n: "å“¥è¾¾é¸­", j: 141 }, { nat: 56, n: "çŒ´æ€ª", j: 136 }, { nat: 57, n: "ç«æš´çŒ´", j: 137 },
            { nat: 58, n: "å¡è’‚ç‹—", j: 129 }, { nat: 59, n: "é£é€Ÿç‹—", j: 130 }, { nat: 60, n: "èšŠé¦™èŒèšª", j: 74 },
            { nat: 61, n: "èšŠé¦™å›", j: 75 }, { nat: 62, n: "èšŠé¦™æ³³å£«", j: 76 }, { nat: 63, n: "å‡¯è¥¿", j: 91 },
            { nat: 64, n: "å‹‡åŸºæ‹‰", j: 92 }, { nat: 65, n: "èƒ¡åœ°", j: 93 }, { nat: 66, n: "è…•åŠ›", j: 142 },
            { nat: 67, n: "è±ªåŠ›", j: 143 }, { nat: 68, n: "æ€ªåŠ›", j: 144 }, { nat: 69, n: "å–‡å­èŠ½", j: 64 },
            { nat: 70, n: "å£å‘†èŠ±", j: 65 }, { nat: 71, n: "å¤§é£ŸèŠ±", j: 66 }, { nat: 72, n: "ç›ç‘™æ°´æ¯", j: 164 },
            { nat: 73, n: "æ¯’åˆºæ°´æ¯", j: 165 }, { nat: 74, n: "å°æ‹³çŸ³", j: 34 }, { nat: 75, n: "éš†éš†çŸ³", j: 35 },
            { nat: 76, n: "éš†éš†å²©", j: 36 }, { nat: 77, n: "å°ç«é©¬", j: 206 }, { nat: 78, n: "çƒˆç„°é©¬", j: 207 },
            { nat: 79, n: "å‘†å‘†å…½", j: 80 }, { nat: 80, n: "å‘†å£³å…½", j: 81 }, { nat: 81, n: "å°ç£æ€ª", j: 120 },
            { nat: 82, n: "ä¸‰åˆä¸€ç£æ€ª", j: 121 }, { nat: 83, n: "å¤§è‘±é¸­", j: 160 }, { nat: 84, n: "å˜Ÿå˜Ÿ", j: 204 },
            { nat: 85, n: "å˜Ÿå˜Ÿåˆ©", j: 205 }, { nat: 86, n: "å°æµ·ç‹®", j: 178 }, { nat: 87, n: "ç™½æµ·ç‹®", j: 179 },
            { nat: 88, n: "è‡­æ³¥", j: 118 }, { nat: 89, n: "è‡­è‡­æ³¥", j: 119 }, { nat: 90, n: "å¤§èˆŒè´", j: 171 },
            { nat: 91, n: "åˆºç”²è´", j: 172 }, { nat: 92, n: "é¬¼æ–¯", j: 71 }, { nat: 93, n: "é¬¼æ–¯é€š", j: 72 },
            { nat: 94, n: "è€¿é¬¼", j: 73 }, { nat: 95, n: "å¤§å²©è›‡", j: 62 }, { nat: 96, n: "ç´ åˆ©æ™®", j: 87 },
            { nat: 97, n: "ç´ åˆ©æ‹", j: 88 }, { nat: 98, n: "å¤§é’³èŸ¹", j: 166 }, { nat: 99, n: "å·¨é’³èŸ¹", j: 167 },
            { nat: 100, n: "é›·ç”µçƒ", j: 122 }, { nat: 101, n: "é¡½çš®é›·å¼¹", j: 123 }, { nat: 102, n: "è›‹è›‹", j: 105 },
            { nat: 103, n: "æ¤°è›‹æ ‘", j: 106 }, { nat: 104, n: "å¡æ‹‰å¡æ‹‰", j: 208 }, { nat: 105, n: "å˜å•¦å˜å•¦", j: 209 },
            { nat: 106, n: "é£è…¿éƒ", j: 147 }, { nat: 107, n: "å¿«æ‹³éƒ", j: 148 }, { nat: 108, n: "å¤§èˆŒå¤´", j: 182 },
            { nat: 109, n: "ç“¦æ–¯å¼¹", j: 116 }, { nat: 110, n: "åŒå¼¹ç“¦æ–¯", j: 117 }, { nat: 111, n: "ç‹¬è§’çŠ€ç‰›", j: 211 },
            { nat: 112, n: "é’»è§’çŠ€å…½", j: 212 }, { nat: 113, n: "å‰åˆ©è›‹", j: 223 }, { nat: 114, n: "è—¤è”“æ€ª", j: 184 },
            { nat: 115, n: "è¢‹å…½", j: 210 }, { nat: 116, n: "å¢¨æµ·é©¬", j: 191 }, { nat: 117, n: "æµ·åˆºé¾™", j: 192 },
            { nat: 118, n: "è§’é‡‘é±¼", j: 78 }, { nat: 119, n: "é‡‘é±¼ç‹", j: 79 }, { nat: 120, n: "æµ·æ˜Ÿæ˜Ÿ", j: 169 },
            { nat: 121, n: "å®çŸ³æµ·æ˜Ÿæ˜Ÿ", j: 170 }, { nat: 122, n: "é­”å¢™äººå¶", j: 158 }, { nat: 123, n: "é£å¤©è³è‚", j: 112 },
            { nat: 124, n: "è¿·å”‡å§", j: 155 }, { nat: 125, n: "ç”µå‡»å…½", j: 157 }, { nat: 126, n: "é¸­å˜´ç«å…½", j: 153 },
            { nat: 127, n: "å‡¯ç½—æ–¯", j: 114 }, { nat: 128, n: "è‚¯æ³°ç½—", j: 151 }, { nat: 129, n: "é²¤é±¼ç‹", j: 76 },
            { nat: 130, n: "æš´é²¤é¾™", j: 77 }, { nat: 131, n: "æ‹‰æ™®æ‹‰æ–¯", j: 224 }, { nat: 132, n: "ç™¾å˜æ€ª", j: 94 },
            { nat: 133, n: "ä¼Šå¸ƒ", j: 185 }, { nat: 134, n: "æ°´ä¼Šå¸ƒ", j: 186 }, { nat: 135, n: "é›·ä¼Šå¸ƒ", j: 187 },
            { nat: 136, n: "ç«ä¼Šå¸ƒ", j: 188 }, { nat: 137, n: "å¤šè¾¹å…½", j: 219 }, { nat: 138, n: "èŠçŸ³å…½", j: 226 },
            { nat: 139, n: "å¤šåˆºèŠçŸ³å…½", j: 227 }, { nat: 140, n: "åŒ–çŸ³ç›”", j: 228 }, { nat: 141, n: "é•°åˆ€ç›”", j: 229 },
            { nat: 142, n: "åŒ–çŸ³ç¿¼é¾™", j: 230 }, { nat: 143, n: "å¡æ¯”å…½", j: 225 }, { nat: 144, n: "æ€¥å†»é¸Ÿ", j: 240 },
            { nat: 145, n: "é—ªç”µé¸Ÿ", j: 241 }, { nat: 146, n: "ç«ç„°é¸Ÿ", j: 242 }, { nat: 147, n: "è¿·ä½ é¾™", j: 243 },
            { nat: 148, n: "å“ˆå…‹é¾™", j: 244 }, { nat: 149, n: "å¿«é¾™", j: 245 }, { nat: 150, n: "è¶…æ¢¦", j: 246 },
            { nat: 151, n: "æ¢¦å¹»", j: 247 }, { nat: 152, n: "èŠè‰å¶", j: 1 }, { nat: 153, n: "æœˆæ¡‚å¶", j: 2 },
            { nat: 154, n: "å¤§ç«ºè‘µ", j: 3 }, { nat: 155, n: "ç«çƒé¼ ", j: 4 }, { nat: 156, n: "ç«å²©é¼ ", j: 5 },
            { nat: 157, n: "ç«æš´å…½", j: 6 }, { nat: 158, n: "å°é”¯é³„", j: 7 }, { nat: 159, n: "è“é³„", j: 8 },
            { nat: 160, n: "å¤§åŠ›é³„", j: 9 }, { nat: 161, n: "å°¾ç«‹", j: 21 }, { nat: 162, n: "å¤§å°¾ç«‹", j: 22 },
            { nat: 163, n: "å’•å’•", j: 15 }, { nat: 164, n: "çŒ«å¤´å¤œé¹°", j: 16 }, { nat: 165, n: "èŠ­èŠ­è¶", j: 30 },
            { nat: 166, n: "å®‰çº³è¶", j: 31 }, { nat: 167, n: "åœ†ä¸è››", j: 32 }, { nat: 168, n: "é˜¿åˆ©å¤šæ–¯", j: 33 },
            { nat: 169, n: "å‰å­—è ", j: 39 }, { nat: 170, n: "ç¯ç¬¼é±¼", j: 180 }, { nat: 171, n: "ç”µç¯æ€ª", j: 181 },
            { nat: 172, n: "çš®ä¸˜", j: 21 }, { nat: 173, n: "çš®å®å®", j: 40 }, { nat: 174, n: "å®å®ä¸", j: 43 },
            { nat: 175, n: "æ³¢å…‹æ¯”", j: 46 }, { nat: 176, n: "æ³¢å…‹åŸºå¤", j: 47 }, { nat: 177, n: "å¤©ç„¶é›€", j: 162 },
            { nat: 178, n: "å¤©ç„¶é¸Ÿ", j: 163 }, { nat: 179, n: "å’©åˆ©ç¾Š", j: 53 }, { nat: 180, n: "èŒ¸èŒ¸ç¾Š", j: 54 },
            { nat: 181, n: "ç”µé¾™", j: 55 }, { nat: 182, n: "ç¾ä¸½èŠ±", j: 71 }, { nat: 183, n: "ç›åŠ›éœ²", j: 132 },
            { nat: 184, n: "ç›åŠ›éœ²ä¸½", j: 133 }, { nat: 185, n: "èƒ¡è¯´æ ‘", j: 108 }, { nat: 186, n: "èšŠé¦™è›™çš‡", j: 77 },
            { nat: 187, n: "æ¯½å­è‰", j: 67 }, { nat: 188, n: "æ¯½å­èŠ±", j: 68 }, { nat: 189, n: "æ¯½å­æ£‰", j: 69 },
            { nat: 190, n: "é•¿å°¾æ€ªæ‰‹", j: 125 }, { nat: 191, n: "å‘æ—¥ç§å­", j: 103 }, { nat: 192, n: "å‘æ—¥èŠ±æ€ª", j: 104 },
            { nat: 193, n: "èœ»èœ»èœ“", j: 101 }, { nat: 194, n: "ä¹Œæ³¢", j: 56 }, { nat: 195, n: "æ²¼ç‹", j: 57 },
            { nat: 196, n: "å¤ªé˜³ä¼Šå¸ƒ", j: 189 }, { nat: 197, n: "æœˆäº®ä¼Šå¸ƒ", j: 190 }, { nat: 198, n: "é»‘æš—é¸¦", j: 202 },
            { nat: 199, n: "å‘†å‘†ç‹", j: 82 }, { nat: 200, n: "æ¢¦å¦–", j: 217 }, { nat: 201, n: "æœªçŸ¥å›¾è…¾", j: 61 },
            { nat: 202, n: "æœç„¶ç¿", j: 107 }, { nat: 203, n: "éº’éºŸå¥‡", j: 149 }, { nat: 204, n: "æ¦›æœçƒ", j: 95 },
            { nat: 205, n: "ä½›çƒˆæ‰˜æ–¯", j: 96 }, { nat: 206, n: "åœŸé¾™å¼Ÿå¼Ÿ", j: 195 }, { nat: 207, n: "å¤©è", j: 193 },
            { nat: 208, n: "å¤§é’¢è›‡", j: 63 }, { nat: 209, n: "å¸ƒé²", j: 121 }, { nat: 210, n: "å¸ƒé²çš‡", j: 122 },
            { nat: 211, n: "åƒé’ˆé±¼", j: 174 }, { nat: 212, n: "å·¨é’³è³è‚", j: 113 }, { nat: 213, n: "å£¶å£¶", j: 168 },
            { nat: 214, n: "èµ«æ‹‰å…‹ç½—æ–¯", j: 115 }, { nat: 215, n: "ç‹ƒæ‹‰", j: 215 }, { nat: 216, n: "ç†Šå®å®", j: 198 },
            { nat: 217, n: "åœˆåœˆç†Š", j: 199 }, { nat: 218, n: "ç†”å²©è™«", j: 218 }, { nat: 219, n: "ç†”å²©èœ—ç‰›", j: 219 },
            { nat: 220, n: "å°å±±çŒª", j: 196 }, { nat: 221, n: "é•¿æ¯›çŒª", j: 197 }, { nat: 222, n: "å¤ªé˜³çŠç‘š", j: 175 },
            { nat: 223, n: "é“ç‚®é±¼", j: 176 }, { nat: 224, n: "ç« é±¼æ¡¶", j: 177 }, { nat: 225, n: "ä¿¡ä½¿é¸Ÿ", j: 194 },
            { nat: 227, n: "ç›”ç”²é¸Ÿ", j: 203 }, { nat: 228, n: "æˆ´é²æ¯”", j: 213 }, { nat: 229, n: "é»‘é²åŠ ", j: 214 },
            { nat: 230, n: "åˆºé¾™ç‹", j: 193 }, { nat: 231, n: "å°å°è±¡", j: 200 }, { nat: 232, n: "é¡¿ç”²", j: 201 },
            { nat: 233, n: "å¤šè¾¹å…½â…¡", j: 220 }, { nat: 234, n: "æƒŠè§’é¹¿", j: 159 }, { nat: 235, n: "å›¾å›¾çŠ¬", j: 152 },
            { nat: 236, n: "å·´å°”éƒ", j: 145 }, { nat: 237, n: "æˆ˜èˆéƒ", j: 146 }, { nat: 238, n: "è¿·å”‡å¨ƒ", j: 154 },
            { nat: 239, n: "ç”µå‡»æ€ª", j: 156 }, { nat: 241, n: "å¤§å¥¶ç½", j: 150 }, { nat: 242, n: "å¹¸ç¦è›‹", j: 224 },
            { nat: 243, n: "é›·å…¬", j: 243 }, { nat: 244, n: "ç‚å¸", j: 244 }, { nat: 245, n: "æ°´å›", j: 245 },
            { nat: 246, n: "å¹¼åŸºæ‹‰æ–¯", j: 249 }, { nat: 247, n: "æ²™åŸºæ‹‰æ–¯", j: 250 }, { nat: 248, n: "ç­åŸºæ‹‰æ–¯", j: 251 },
            { nat: 249, n: "æ´›å¥‡äºš", j: 252 }, { nat: 250, n: "å‡¤ç‹", j: 253 }, { nat: 251, n: "é›ªæ‹‰æ¯”", j: 254 },
        ];

        const ALL_NAMES = ["å¦™è›™ç§å­","å¦™è›™è‰","å¦™è›™èŠ±","å°ç«é¾™","ç«æé¾™","å–·ç«é¾™","æ°å°¼é¾Ÿ","å¡å’ªé¾Ÿ","æ°´ç®­é¾Ÿ","ç»¿æ¯›è™«","é“ç”²è›¹","å·´å¤§è¶","ç‹¬è§’è™«","é“å£³è›¹","å¤§é’ˆèœ‚","æ³¢æ³¢","æ¯”æ¯”é¸Ÿ","å¤§æ¯”é¸Ÿ","å°æ‹‰è¾¾","æ‹‰è¾¾","çƒˆé›€","å¤§å˜´é›€","é˜¿æŸè›‡","é˜¿æŸæ€ª","çš®å¡ä¸˜","é›·ä¸˜","ç©¿å±±é¼ ","ç©¿å±±ç‹","å°¼å¤šå…°","å°¼å¤šå¨œ","å°¼å¤šå","å°¼å¤šæœ—","å°¼å¤šåŠ›è¯º","å°¼å¤šç‹","çš®çš®","çš®å¯è¥¿","å…­å°¾","ä¹å°¾","èƒ–ä¸","èƒ–å¯ä¸","è¶…éŸ³è ","å¤§å˜´è ","èµ°è·¯è‰","è‡­è‡­èŠ±","éœ¸ç‹èŠ±","æ´¾æ‹‰æ–¯","æ´¾æ‹‰æ–¯ç‰¹","æ¯›çƒ","æ‘©é²è›¾","åœ°é¼ ","ä¸‰åœ°é¼ ","å–µå–µ","çŒ«è€å¤§","å¯è¾¾é¸­","å“¥è¾¾é¸­","çŒ´æ€ª","ç«æš´çŒ´","å¡è’‚ç‹—","é£é€Ÿç‹—","èšŠé¦™èŒèšª","èšŠé¦™å›","èšŠé¦™æ³³å£«","å‡¯è¥¿","å‹‡åŸºæ‹‰","èƒ¡åœ°","è…•åŠ›","è±ªåŠ›","æ€ªåŠ›","å–‡å­èŠ½","å£å‘†èŠ±","å¤§é£ŸèŠ±","ç›ç‘™æ°´æ¯","æ¯’åˆºæ°´æ¯","å°æ‹³çŸ³","éš†éš†çŸ³","éš†éš†å²©","å°ç«é©¬","çƒˆç„°é©¬","å‘†å‘†å…½","å‘†å£³å…½","å°ç£æ€ª","ä¸‰åˆä¸€ç£æ€ª","å¤§è‘±é¸­","å˜Ÿå˜Ÿ","å˜Ÿå˜Ÿåˆ©","å°æµ·ç‹®","ç™½æµ·ç‹®","è‡­æ³¥","è‡­è‡­æ³¥","å¤§èˆŒè´","åˆºç”²è´","é¬¼æ–¯","é¬¼æ–¯é€š","è€¿é¬¼","å¤§å²©è›‡","ç´ åˆ©æ™®","ç´ åˆ©æ‹","å¤§é’³èŸ¹","å·¨é’³èŸ¹","é›·ç”µçƒ","é¡½çš®é›·å¼¹","è›‹è›‹","æ¤°è›‹æ ‘","å¡æ‹‰å¡æ‹‰","å˜å•¦å˜å•¦","é£è…¿éƒ","å¿«æ‹³éƒ","å¤§èˆŒå¤´","ç“¦æ–¯å¼¹","åŒå¼¹ç“¦æ–¯","ç‹¬è§’çŠ€ç‰›","é’»è§’çŠ€å…½","å‰åˆ©è›‹","è—¤è”“æ€ª","è¢‹å…½","å¢¨æµ·é©¬","æµ·åˆºé¾™","è§’é‡‘é±¼","é‡‘é±¼ç‹","æµ·æ˜Ÿæ˜Ÿ","å®çŸ³æµ·æ˜Ÿæ˜Ÿ","é­”å¢™äººå¶","é£å¤©è³è‚","è¿·å”‡å§","ç”µå‡»å…½","é¸­å˜´ç«å…½","å‡¯ç½—æ–¯","è‚¯æ³°ç½—","é²¤é±¼ç‹","æš´é²¤é¾™","æ‹‰æ™®æ‹‰æ–¯","ç™¾å˜æ€ª","ä¼Šå¸ƒ","æ°´ä¼Šå¸ƒ","é›·ä¼Šå¸ƒ","ç«ä¼Šå¸ƒ","å¤šè¾¹å…½","èŠçŸ³å…½","å¤šåˆºèŠçŸ³å…½","åŒ–çŸ³ç›”","é•°åˆ€ç›”","åŒ–çŸ³ç¿¼é¾™","å¡æ¯”å…½","æ€¥å†»é¸Ÿ","é—ªç”µé¸Ÿ","ç«ç„°é¸Ÿ","è¿·ä½ é¾™","å“ˆå…‹é¾™","å¿«é¾™","è¶…æ¢¦","æ¢¦å¹»","èŠè‰å¶","æœˆæ¡‚å¶","å¤§ç«ºè‘µ","ç«çƒé¼ ","ç«å²©é¼ ","ç«æš´å…½","å°é”¯é³„","è“é³„","å¤§åŠ›é³„","å°¾ç«‹","å¤§å°¾ç«‹","å’•å’•","çŒ«å¤´å¤œé¹°","èŠ­èŠ­è¶","å®‰çº³è¶","åœ†ä¸è››","é˜¿åˆ©å¤šæ–¯","å‰å­—è ","ç¯ç¬¼é±¼","ç”µç¯æ€ª","çš®ä¸˜","çš®å®å®","å®å®ä¸","æ³¢å…‹æ¯”","æ³¢å…‹åŸºå¤","å¤©ç„¶é›€","å¤©ç„¶é¸Ÿ","å’©åˆ©ç¾Š","èŒ¸èŒ¸ç¾Š","ç”µé¾™","ç¾ä¸½èŠ±","ç›åŠ›éœ²","ç›åŠ›éœ²ä¸½","èƒ¡è¯´æ ‘","èšŠé¦™è›™çš‡","æ¯½å­è‰","æ¯½å­èŠ±","æ¯½å­æ£‰","é•¿å°¾æ€ªæ‰‹","å‘æ—¥ç§å­","å‘æ—¥èŠ±æ€ª","èœ»èœ»èœ“","ä¹Œæ³¢","æ²¼ç‹","å¤ªé˜³ä¼Šå¸ƒ","æœˆäº®ä¼Šå¸ƒ","é»‘æš—é¸¦","å‘†å‘†ç‹","æ¢¦å¦–","æœªçŸ¥å›¾è…¾","æœç„¶ç¿","éº’éºŸå¥‡","æ¦›æœçƒ","ä½›çƒˆæ‰˜æ–¯","åœŸé¾™å¼Ÿå¼Ÿ","å¤©è","å¤§é’¢è›‡","å¸ƒé²","å¸ƒé²çš‡","åƒé’ˆé±¼","å·¨é’³è³è‚","å£¶å£¶","èµ«æ‹‰å…‹ç½—æ–¯","ç‹ƒæ‹‰","ç†Šå®å®","åœˆåœˆç†Š","ç†”å²©è™«","ç†”å²©èœ—ç‰›","å°å±±çŒª","é•¿æ¯›çŒª","å¤ªé˜³çŠç‘š","é“ç‚®é±¼","ç« é±¼æ¡¶","ä¿¡ä½¿é¸Ÿ","å·¨ç¿…é£é±¼","ç›”ç”²é¸Ÿ","æˆ´é²æ¯”","é»‘é²åŠ ","åˆºé¾™ç‹","å°å°è±¡","é¡¿ç”²","å¤šè¾¹å…½â…¡","æƒŠè§’é¹¿","å›¾å›¾çŠ¬","å·´å°”éƒ","æˆ˜èˆéƒ","è¿·å”‡å¨ƒ","ç”µå‡»æ€ª","å°é¸­å˜´é¾™","å¤§å¥¶ç½","å¹¸ç¦è›‹","é›·å…¬","ç‚å¸","æ°´å›","å¹¼åŸºæ‹‰æ–¯","æ²™åŸºæ‹‰æ–¯","ç­åŸºæ‹‰æ–¯","æ´›å¥‡äºš","å‡¤ç‹","é›ªæ‹‰æ¯”","æœ¨å®ˆå®«","æ£®æ—èœ¥èœ´","èœ¥èœ´ç‹","ç«ç¨šé¸¡","åŠ›å£®é¸¡","ç«ç„°é¸¡","æ°´è·ƒé±¼","æ²¼è·ƒé±¼","å·¨æ²¼æ€ª","åœŸç‹¼çŠ¬","å¤§ç‹¼çŠ¬","è›‡çº¹ç†Š","ç›´å†²ç†Š","åˆºå°¾è™«","ç”²å£³èŒ§","ç‹©çŒå‡¤è¶","ç›¾ç”²èŒ§","æ¯’ç²‰è›¾","è²å¶ç«¥å­","è²å¸½å°ç«¥","ä¹å¤©æ²³ç«¥","æ©¡å®æœ","é•¿é¼»å¶","ç‹¡çŒ¾å¤©ç‹—","å‚²éª¨ç‡•","å¤§ç‹ç‡•","é•¿ç¿…é¸¥","å¤§å˜´é¸¥","æ‹‰é²æ‹‰ä¸","å¥‡é²è‰å®‰","æ²™å¥ˆæœµ","æºœæºœç³–çƒ","é›¨ç¿…è›¾","è˜‘è˜‘è‡","æ–—ç¬ è‡","æ‡’äººç­","è¿‡åŠ¨çŒ¿","è¯·å‡ç‹","åœŸå±…å¿å£«","é“é¢å¿è€…","è„±å£³å¿è€…","å’•å¦å¦","å¼çˆ†å¼¹","çˆ†éŸ³æ€ª","å¹•ä¸‹åŠ›å£«","è¶…åŠ›ç‹","éœ²åŠ›ä¸½","æœåŒ—é¼»","å‘å°¾å–µ","ä¼˜é›…çŒ«","å‹¾é­‚çœ¼","å¤§å˜´å¨ƒ","å¯å¯å¤šæ‹‰","å¯å¤šæ‹‰","æ³¢å£«å¯å¤šæ‹‰","ç›æ²™é‚£","æ°é›·å§†","è½é›·å…½","é›·ç”µå…½","æ­£ç”µæ‹æ‹","è´Ÿç”µæ‹æ‹","ç”µè¤è™«","ç”œç”œè¤","æ¯’è”·è–‡","æº¶é£Ÿå…½","åé£Ÿå…½","åˆ©ç‰™é±¼","å·¨ç‰™é²¨","å¼å¼é²¸","å¼é²¸ç‹","å‘†ç«é©¼","å–·ç«é©¼","ç…¤ç‚­é¾Ÿ","è·³è·³çŒª","å™—å™—çŒª","æ™ƒæ–‘","å¤§é¢šèš","è¶…éŸ³æ³¢å¹¼è™«","æ²™æ¼ èœ»èœ“","æ²™æ¼ å¥ˆäºš","æ¢¦æ­Œä»™äººæŒ","é’ç»µé¸Ÿ","ä¸ƒå¤•é’é¸Ÿ","çŒ«é¼¬æ–©","é¥­åŒ™è›‡","æœˆçŸ³","å¤ªé˜³å²©","æ³¥æ³¥é³…","åœ°éœ‡é²¶é±¼","é¾™è™¾å°å…µ","é“è¯é¾™è™¾","å¤©ç§¤å¶","å¿µåŠ›åœŸå¶","è§¦æ‰‹ç™¾åˆ","æ‘‡ç¯®ç™¾åˆ","å¤ªå¤ç¾½è™«","å¤ªå¤ç›”ç”²","å¤§é»„é±¼","ç¾çº³æ–¯","é£˜æµ®æ³¡æ³¡","å˜éšé¾™","æ€¨å½±å¨ƒå¨ƒ","è¯…å’’å¨ƒå¨ƒ","å¤œå·¡çµ","å¤œå·¨äºº","çƒ­å¸¦é¾™","é£é“ƒé“ƒ","é˜¿å‹ƒæ¢­é²","å°æœç„¶","é›ªç«¥å­","å†°é¬¼æŠ¤","æµ·è±¹çƒ","æµ·é­”ç‹®","å¸ç‰™æµ·ç‹®","çç è´","çŒæ–‘é±¼","æ¨±èŠ±é±¼","å¤ç©ºæ£˜é±¼","çˆ±å¿ƒé±¼","å®è´é¾™","ç”²å£³é¾™","æš´é£é¾™","é“å“‘é“ƒ","é‡‘å±æ€ª","å·¨é‡‘æ€ª","é›·å‰æ´›å…‹","é›·å‰è‰¾æ–¯","é›·å‰æ–¯å¥‡é²","æ‹‰å¸äºšæ–¯","æ‹‰å¸æ¬§æ–¯","ç›–æ¬§å¡","å›ºæ‹‰å¤š","çƒˆç©ºå","åŸºæ‹‰ç¥ˆ","ä»£æ¬§å¥‡å¸Œæ–¯","è‰è‹—é¾Ÿ","æ ‘æ—é¾Ÿ","åœŸå°é¾Ÿ","å°ç«ç„°çŒ´","çŒ›ç«çŒ´","çƒˆç„°çŒ´","æ³¢åŠ æ›¼","æ³¢çš‡å­","å¸ç‹æ‹¿æ³¢","å§†å…‹å„¿","å§†å…‹é¸Ÿ","å§†å…‹é¹°","å¤§ç‰™ç‹¸","å¤§å°¾ç‹¸","åœ†æ³•å¸ˆ","éŸ³ç®±èŸ€","å°çŒ«æ€ª","å‹’å…‹çŒ«","ä¼¦ç´çŒ«","å«ç¾è‹","ç½—ä¸é›·æœµ","å¤´ç›–é¾™","æˆ˜æ§Œé¾™","ç›¾ç”²é¾™","æŠ¤åŸé¾™","ç»“è‰å„¿","ç»“è‰è´µå¦‡","ç»…å£«è›¾","ä¸‰èœœèœ‚","èœ‚å¥³ç‹","å¸•å¥‡åˆ©å…¹","æ³³åœˆé¼¬","æµ®æ½œé¼¬","æ¨±èŠ±å®","æ¨±èŠ±å„¿","æ— å£³æµ·å…”","æµ·å…”å…½","åŒå°¾æ€ªæ‰‹","é£˜é£˜çƒ","éšé£çƒ","å·å·è€³","é•¿è€³å…”","æ¢¦å¦–é­”","ä¹Œé¸¦å¤´å¤´","é­…åŠ›å–µ","ä¸œæ–½å–µ","é“ƒé“›å“","è‡­é¼¬å™—","å¦å…‹è‡­é¼¬","é“œé•œæ€ª","é’é“œé’Ÿ","ç›†æ‰æ€ª","é­”å°¼å°¼","å°ç¦è›‹","è’èƒ–é¸Ÿ","èŠ±å²©æ€ª","åœ†é™†é²¨","å°–ç‰™é™†é²¨","çƒˆå’¬é™†é²¨","å°å¡æ¯”å…½","åˆ©æ¬§è·¯","è·¯å¡åˆ©æ¬§","æ€ªæ²³é©¬","æ²³é©¬å…½","ç´«å¤©è","é¾™ç‹è","ä¸è‰¯è›™","æ¯’éª·è›™","å°–ç‰™ç¬¼","è§å…‰é±¼","éœ“è™¹é±¼","å°æ›¼æ³°å› ","é›ªç¬ æ€ª","æš´é›ªç‹","ç›ç‹ƒæ‹‰","è‡ªçˆ†ç£æ€ª","å¤§èˆŒèˆ”","è¶…ç”²ç‹‚çŠ€","å·¨è”“è—¤","ç”µå‡»é­”å…½","é¸­å˜´ç‚å…½","æ³¢å…‹åŸºæ–¯","è¿œå¤å·¨èœ»","å¶ä¼Šå¸ƒ","å†°ä¼Šå¸ƒ","å¤©èç‹","è±¡ç‰™çŒª","å¤šè¾¹å…½ï¼º","è‰¾è·¯é›·æœµ","å¤§æœåŒ—é¼»","é»‘å¤œé­”çµ","é›ªå¦–å¥³","æ´›æ‰˜å§†","ç”±å…‹å¸Œ","è‰¾å§†åˆ©å¤š","äºšå…‹è¯ºå§†","å¸ç‰™å¢å¡","å¸•è·¯å¥‡äºš","å¸­å¤šè“æ©","é›·å‰å¥‡å¡æ–¯","éª‘æ‹‰å¸çº³","å…‹é›·è‰²åˆ©äºš","éœæ¬§çº³","ç›çº³éœ","è¾¾å…‹è±ä¼Š","æ´å’ª","é˜¿å°”å®™æ–¯"];

        const POKEMON_LIST = ALL_NAMES.map((name, index) => {
            const natId = index + 1;
            const manualEntry = MASTER_POKEMON.find(m => m.nat === natId);
            return {
                natId: natId,
                name: name,
                johtoId: manualEntry ? manualEntry.j : null
            };
        });

        const STORAGE_KEY = 'hgss_national_v5';

        function App() {
            const [captured, setCaptured] = useState(() => {
                try {
                    const saved = localStorage.getItem(STORAGE_KEY);
                    return saved ? new Set(JSON.parse(saved)) : new Set();
                } catch (e) { return new Set(); }
            });

            const [view, setView] = useState('all'); 
            const [dexMode, setDexMode] = useState('national'); 
            const [search, setSearch] = useState('');

            useEffect(() => {
                localStorage.setItem(STORAGE_KEY, JSON.stringify(Array.from(captured)));
            }, [captured]);

            const finalFiltered = useMemo(() => {
                let list = [...POKEMON_LIST];
                if (dexMode === 'johto') {
                    list = list.filter(p => p.johtoId !== null).sort((a, b) => a.johtoId - b.johtoId);
                } else {
                    list = list.sort((a, b) => a.natId - b.natId);
                }

                const term = search.toLowerCase();
                return list.filter(p => {
                    const nameMatch = p.name.includes(term);
                    const natIdMatch = String(p.natId).padStart(3, '0').includes(term);
                    const johtoIdMatch = p.johtoId && String(p.johtoId).padStart(3, '0').includes(term);
                    const viewMatch = view === 'all' || captured.has(p.natId);
                    return (nameMatch || natIdMatch || johtoIdMatch) && viewMatch;
                });
            }, [search, view, dexMode, captured]);

            const toggle = (id) => {
                setCaptured(prev => {
                    const next = new Set(prev);
                    if (next.has(id)) next.delete(id);
                    else next.add(id);
                    return next;
                });
            };

            const totalInView = dexMode === 'johto' ? 256 : POKEMON_LIST.length;
            const capturedInView = Array.from(captured).filter(id => {
                if (dexMode === 'national') return id <= POKEMON_LIST.length;
                return POKEMON_LIST.find(p => p.natId === id)?.johtoId !== null;
            }).length;

            const progress = (capturedInView / totalInView) * 100;

            return (
                <div className="pb-20 min-h-screen">
                    <header className="sticky top-0 z-40 bg-white/95 backdrop-blur-md border-b border-slate-200 shadow-sm">
                        <div className="max-w-5xl mx-auto px-4 pb-3">
                            {/* ç¬¬ä¸€è¡Œï¼šæ ‡é¢˜ + å›¾é‰´åˆ‡æ¢ (å·¦) | è¿›åº¦ (å³) */}
                            <div className="flex justify-between items-center mb-4">
                                <div className="flex items-center gap-3">
                                    <div className="flex flex-col">
                                        <h1 className="text-lg font-black text-red-600 tracking-tighter flex items-center gap-1">
                                            <Icon name="pocket" className="w-5 h-5" /> å¿ƒé‡‘é­‚é“¶å›¾é‰´
                                        </h1>
                                        <div className="hidden sm:block text-[8px] font-bold text-slate-400 uppercase tracking-widest leading-none font-mono">
                                            Tracker
                                        </div>
                                    </div>
                                    
                                    {/* å›¾é‰´åˆ‡æ¢ */}
                                    <div className="flex p-0.5 bg-slate-200 rounded-lg">
                                        <button 
                                            onClick={()=>setDexMode('national')}
                                            className={"px-3 py-1 text-[11px] font-black rounded-md transition-all " + (dexMode === 'national' ? 'bg-red-600 text-white shadow-sm' : 'text-slate-500')}
                                        >
                                            å…¨å›½
                                        </button>
                                        <button 
                                            onClick={()=>setDexMode('johto')}
                                            className={"px-3 py-1 text-[11px] font-black rounded-md transition-all " + (dexMode === 'johto' ? 'bg-red-600 text-white shadow-sm' : 'text-slate-500')}
                                        >
                                            åŸéƒ½
                                        </button>
                                    </div>
                                </div>

                                <div className="text-right shrink-0">
                                    <div className="text-base font-black text-slate-800 font-mono leading-none">
                                        {capturedInView}<span className="text-slate-300 mx-0.5 text-xs">/</span>{totalInView}
                                    </div>
                                    <div className="w-16 h-1.5 bg-slate-100 rounded-full overflow-hidden mt-1 ring-1 ring-slate-200">
                                        <div className="h-full bg-red-500 transition-all duration-700" style={{width: progress + "%"}} />
                                    </div>
                                </div>
                            </div>

                            {/* ç¬¬äºŒè¡Œï¼šæœç´¢å’ŒçŠ¶æ€ç­›é€‰ */}
                            <div className="grid grid-cols-12 gap-2">
                                <div className="relative col-span-6 sm:col-span-8">
                                    <div className="absolute left-3 top-1/2 -translate-y-1/2 text-slate-400">
                                        <Icon name="search" className="w-3.5 h-3.5" />
                                    </div>
                                    <input 
                                        type="text" 
                                        placeholder="æœç´¢..." 
                                        className="w-full pl-9 pr-3 py-2.5 bg-slate-100 border-none rounded-xl focus:ring-2 focus:ring-red-500/20 outline-none text-sm transition-all appearance-none"
                                        value={search}
                                        onChange={e => setSearch(e.target.value)}
                                    />
                                </div>
                                
                                <div className="bg-slate-100 rounded-xl tab-container col-span-6 sm:col-span-4 p-0.5">
                                    <button 
                                        onClick={()=>setView('all')} 
                                        className={"flex-1 py-1.5 text-xs font-black rounded-lg transition-all " + (view === 'all' ? 'bg-white text-red-600 shadow-sm' : 'text-slate-500')}
                                    >
                                        æ‰€æœ‰
                                    </button>
                                    <button 
                                        onClick={()=>setView('captured')} 
                                        className={"flex-1 py-1.5 text-xs font-black rounded-lg transition-all " + (view === 'captured' ? 'bg-white text-red-600 shadow-sm' : 'text-slate-500')}
                                    >
                                        å·²æ•
                                    </button>
                                </div>
                            </div>
                        </div>
                    </header>

                    <main className="max-w-5xl mx-auto px-4 mt-6">
                        {finalFiltered.length > 0 ? (
                            <div className="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-3 sm:gap-4">
                                {finalFiltered.map(p => {
                                    const isCap = captured.has(p.natId);
                                    const displayId = dexMode === 'johto' ? p.johtoId : p.natId;
                                    const idPrefix = dexMode === 'johto' ? 'J' : 'N';
                                    
                                    return (
                                        <button 
                                            key={p.natId} 
                                            onClick={()=>toggle(p.natId)}
                                            className={"pokemon-card relative flex flex-col items-center p-3 rounded-2xl border-2 transition-all active:scale-95 " + (isCap ? "bg-white border-red-500 shadow-lg shadow-red-200/50" : "bg-white border-transparent shadow-sm hover:border-slate-300")}
                                        >
                                            {isCap && (
                                                <div className="absolute top-2 right-2 bg-red-600 text-white rounded-full p-0.5 ring-2 ring-white shadow-sm z-20">
                                                    <Icon name="check" className="w-2.5 h-2.5 sm:w-3 sm:h-3" />
                                                </div>
                                            )}
                                            
                                            <div className="mb-2 w-full aspect-square flex items-center justify-center relative">
                                                {/* èƒŒæ™¯å¾®å…‰ */}
                                                {isCap && <div className="absolute inset-2 bg-red-50 rounded-full blur-xl opacity-60"></div>}
                                                <img 
                                                    src={`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/home/${p.natId}.png`} 
                                                    className={"pokemon-thumb w-full h-full object-contain relative z-10 " + (isCap ? "scale-110 drop-shadow-lg" : "grayscale-img")}
                                                    alt={p.name}
                                                    loading="lazy"
                                                    onerror={(e) => {
                                                        e.target.src = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${p.natId}.png`;
                                                    }}
                                                />
                                            </div>
                                            <span className="text-[9px] font-mono font-black text-slate-300">
                                                {idPrefix}#{String(displayId).padStart(3, '0')}
                                            </span>
                                            <span className={"text-[12px] font-black truncate w-full mt-0.5 " + (isCap ? "text-red-600" : "text-slate-600")}>
                                                {p.name}
                                            </span>
                                        </button>
                                    );
                                })}
                            </div>
                        ) : (
                            <div className="py-24 text-center text-slate-300">
                                <Icon name="ghost" className="w-12 h-12 mx-auto mb-3 opacity-10" />
                                <p className="text-xs font-bold tracking-widest uppercase opacity-40">æ‰¾ä¸åˆ°åŒ¹é…</p>
                            </div>
                        )}
                    </main>

                    {capturedInView === totalInView && capturedInView > 0 && (
                        <div className="fixed bottom-8 left-1/2 -translate-x-1/2 bg-gradient-to-r from-red-600 to-orange-500 text-white px-8 py-4 rounded-full shadow-2xl font-black text-xs animate-bounce z-50 border-4 border-white/30">
                            ğŸŒŸ å¤§æ»¡è´¯è¾¾æˆï¼ ğŸŒŸ
                        </div>
                    )}
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>